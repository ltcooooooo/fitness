"use strict";(self["webpackChunkfitness"]=self["webpackChunkfitness"]||[]).push([[117],{4117:function(e,t,i){i.r(t),i.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login"}},[t("div",{staticClass:"content"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入你的名字"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.weight,expression:"weight"}],staticClass:"weight",style:e.weightStyle,attrs:{type:"number",placeholder:e.weightShow?"请输入你的体重":""},domProps:{value:e.weight},on:{input:function(t){t.target.composing||(e.weight=t.target.value)}}}),t("van-button",{staticStyle:{"border-radius":"2vw"},attrs:{type:"info"},on:{click:e.loginBtn}},[e._v("登录")])],1)])},a=[],n=i(8859);function r(e,t){return(0,n.Z)({url:"/api/login",params:{name:e,weight:t}})}var o=i(1779),h={data(){return{username:"",weight:"",weightShow:!1,weightStyle:{height:"0",border:"none"}}},methods:{loginBtn(){if(!this.username)return this.Notify({type:"warning",message:"请输入你的名字"});if(this.weightShow){if(!this.weight)return this.Notify({type:"warning",message:"请输入你的体重"});r(this.username,this.weight).then((e=>{(0,o.o4)(e.data.token),(0,o.ps)(e.data.user),this.$router.replace("/mine")}))}else r(this.username).then((e=>{e.data.status&&(e.data.token?((0,o.o4)(e.data.token),(0,o.ps)(e.data.user),this.$router.replace("/mine")):this.Dialog.alert({title:"提示",message:"未检测到该用户，首次登陆请先输入你的体重"}).then((e=>{this.weightShow=!0,this.weightStyle.border="0.2564vw solid #ccc",this.weightStyle.height="10vw"})))}))}}},u=h,l=i(3736),g=(0,l.Z)(u,s,a,!1,null,"fa741ccc",null),c=g.exports}}]);
//# sourceMappingURL=117.e5f95cca.js.map